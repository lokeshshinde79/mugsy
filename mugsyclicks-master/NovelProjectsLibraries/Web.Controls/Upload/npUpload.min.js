$(document).ready(function(){$("#npUpload .del").live("click",function(){var a=$(this).parents(".file").find(".name").html();getFlashMovie("npMainFlashUpload").removeFile(a)});$("#npUpload .tl, #npUpload .ts, #npUpload .dts").live("mouseover",function(){$(this).find(".message").show();$(this).css("z-index",20)}).live("mouseout",function(){$(this).find(".message").hide();$(this).css("z-index",1)});$("#npUpload .uploadbtn").one("click",function(){startUpload()});$("#npUpload object").focus()});var totalsize;function clearList(){$("#npUpload .files").html("");totalsize=0;$("#npUpload object").blur();$("#npUpload .hide").removeClass("hide");$("#npUpload .nextstep, #npUpload .step").addClass("hide")}function filesTooLarge(e,d){for(var c=0;c<e.length;c++){var a=$('#npUpload .files .file .name:contains("'+e[c]+'")');var b=a.parents(".file");if(a.length==1){b.addClass("tl");b.find(".size").css("font-weight","bold");if(enforceMax){b.addClass("enforce")}if(b.find(".message").length==0){b.find(".details").append('\n\t<div class="message"><span class="topArrow"></span>This file\'s size is too large, please compress your image or select an image with a smaller filesize.</div>')}}}}function filesTooSmall(d){for(var c=0;c<d.length;c++){var a=$('#npUpload .files .file .name:contains("'+d[c]+'")');var b=a.parents(".file");if(a.length==1){b.addClass("ts");b.find(".size").css("font-weight","bold");if(enforceMin){b.addClass("enforce")}if(b.find(".message").length==0){b.find(".details").append('\n\t<div class="message"><span class="topArrow"></span>This file\'s size is too small, please select a higher resolution version of your image.</div>')}else{b.find(".details .message").append("\n\t<br /><br />Additionally, this file's size is too small, please select a higher resolution version of your image. Thank you.")}}}}function filesDimTooSmall(d){for(var c=0;c<d.length;c++){var a=$('#npUpload .files .file .name:contains("'+d[c]+'")');var b=a.parents(".file");if(a.length==1){b.addClass("dts");if(enforceDim){b.addClass("enforce")}if(b.find(".message").length==0){b.find(".details").append('\n\t<div class="message"><span class="topArrow"></span>This file does not meet the recommended minimum image dimensions. If you have a high resolution version of this image, you should upload that so your prints come out as clear as possible. Thank you.</div>')}else{b.find(".details .message").append("\n\t<br /><br />Additionally, this file does not meet the recommended minimum image dimensions. If you have a high resolution version of this image, you should upload that so your prints come out as clear as possible. Thank you.")}}}}function imageDPITooSmall(c,b,a){filesSelected(c,b)}function filesSelected(d,c){for(var b=0;b<d.length;b++){totalsize+=c[b];var a='\n<div class="file">';a+='\n\t<div class="progress" title="'+d[b]+'"></div>';a+='\n\t<div class="details">';a+='\n\t\t<div class="name">'+d[b]+"</div>";a+='\n\t\t<div class="size">'+formatSize(c[b])+"</div>";a+='\n\t\t<div class="delete"><a class="del"><span>delete this file</span></a></div>';a+='\n\t\t<div class="clear"></div>';a+="\n\t</div>";a+="\n</div>";$("#npUpload .files").append(a)}$("#npUpload .totalfiles .count").html($("#npUpload .files .file:not(.enforce)").length);$("#npUpload .totalsize").html(formatSize(totalsize));if(autoUpload){startUpload()}}function startUpload(){$("#npUpload .filetop .delete").text("Status");$("#npUpload .files .delete").html("");$("#npUpload .files .progress").removeClass("hide");$("#npUpload .step, #npUpload .nextstep, #npUpload .uploadbtn, #npUpload .cancel").addClass("hide");getFlashMovie("npMainFlashUpload").uploadFiles(enforceMax,enforceMin,enforceDim)}function formatSize(c){var b=Math.round((parseInt(c,10)*10)/1024)/10;var a;if(b<1024){a=b+" KB"}else{a=Math.round((b*10)/1024)/10+" MB"}return a}function uploadProgress(f,d,e){var c=$('.files .file:contains("'+f+'")');var b=$("#npUpload .files .progress[title='"+f+"']");var a=(d/e);b.css({width:a*(c.width()+9),borderRight:"1px solid red"});log(f+": "+(a*100)+"%")}function eachComplete(c){var b=$('#npUpload .files .file:contains("'+c+'")');var a=$('#npUpload .files .progress[title="'+c+'"]');b.find(".delete").html('<span class="done"></span>');a.remove()}function uploadComplete(){$("#npUpload .redirect").click()}function getFlashMovie(a){return(jQuery.browser=="msie"&&jQuery.browser.version=="6.0")?window[a]:document[a]}function httpError(c,b,a){log(c+" had error "+b+" for "+a)}function ioError(a){log(a+" had io error")}function securityError(b,a){log(b+" had security error: "+a)}function log(b){try{$(".npUploadResponse").html(b)}catch(a){}};